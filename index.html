<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>LAB</title>

</head>

<body>
    <h1>AbsoluteOrientationSensor 2</h1>
    <h3>Alpha: <span id="a"></span></h3>
    <h3>Beta: <span id="b"></span></h3>
    <h3>Gamma: <span id="g"></span></h3>
    <script>
        // Verificar si el sensor es compatible con el navegador
        if ('AbsoluteOrientationSensor' in window) {
            // Crear una instancia del sensor
            const sensor = new AbsoluteOrientationSensor();
            alert('control1')
            // Manejar el evento de lectura de los datos del sensor
            sensor.addEventListener('reading', () => {
                // Obtener los valores de orientación
                const { alpha, beta, gamma } = sensor.quaternion;
alert('control2')
                // Mostrar los valores de orientación en la consola
                a.textContent = alpha;
                b.textContent = beta;
                g.textContent = gamma;
            });
            Promise.all([
                navigator.permissions.query({ name: "accelerometer" }),
                navigator.permissions.query({ name: "magnetometer" }),
                navigator.permissions.query({ name: "gyroscope" }),
            ]).then((results) => {
                if (results.every((result) => result.state === "granted")) {
                    alert('control3')
                    sensor.start();
                    // …
                } else {
                    alert("No permissions to use AbsoluteOrientationSensor.");
                }
            });
        } else {
            alert('El sensor de orientación absoluta no es compatible con este navegador.');
        }
    </script>
</body>

</html>
