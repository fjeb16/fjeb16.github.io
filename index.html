<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />


    <title>Proyecto12</title>


</head>

<body>
    <h4>Movimiento en 2D: <span id="movimiento_2d">0.000</span></h4>
    <h4>Movimiento en 3D: <span id="movimiento_3d">0.000</span></h4>
    <h5>x:<span id="x"></span></h5>
    <h5>y:<span id="y"></span></h5>
    <h5>Z:<span id="z"></span></h5>


    <script>
        function calcular_direccion(evento) {
            try {


                const aceleracion = event.accelerationIncludingGravity;
                const x = aceleracion.x.toFixed(2);
                const y = aceleracion.y.toFixed(2);
                const z = aceleracion.z.toFixed(2);

                document.querySelector('#x') = x;
                document.querySelector('#y') = y;
                document.querySelector('#z') = z;

                // Dirección del movimiento en 2D
                var direccion2D = Math.atan2(y, x); // En radianes

                // Dirección del movimiento en 3D
                var magnitudHorizontal = Math.sqrt(x * x + y * y);
                var direccionVertical = Math.atan2(z, magnitudHorizontal); // En radianes

                // Convertir los ángulos a grados
                var direccion2DGrados = direccion2D * (180 / Math.PI);
                var direccionVerticalGrados = direccionVertical * (180 / Math.PI);

                // Imprimir los resultados
                movimiento_2d.textContent = direccion2DGrados;
                movimiento_3d.textContent = direccionVerticalGrados;


                console.log("Dirección del movimiento en 2D: " + direccion2DGrados + " grados.");
                console.log("Dirección del movimiento en 3D: " + direccionVerticalGrados + " grados.");
            } catch (error) {
                alert(error);
            }

        }

        if (window.DeviceMotionEvent) {
            window.addEventListener('devicemotion', calcular_direccion);

        } else {
            console.error('El dispositivo no soporta la API de detección de movimiento.');
        }
    </script>
</body>

</html>